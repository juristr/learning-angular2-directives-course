<div class="app-page-content mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">

    <h1 class="mdl-typography--display-2">
        List of sensors
    </h1>
    <p class="mdl-typography--title">
        Scan for the list of available sensors in your environment and configure them for your dashboard.
    </p>
    
    <div class="mdl-cell--12-col">
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent mdl-js-ripple-effect" (click)="refreshSensors()">
            Scan for sensors
        </button>
    </div>
    
    <div *ngIf="sensors && sensors.length > 0">
        <hr />

        <sensor-filter (filterChange)="refreshSensors($event)" #filterCmp></sensor-filter>
        
        <hr />
        
        <sensor-list [sensors]="sensors | filterSensor: filterCmp.selectedCategory" (addItem)="selectSensor($event, modal)"></sensor-list>
    </div>    
</div>

<div class="app-page-content mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col">

    <h1 class="mdl-typography--display-2">
        Configured sensors
    </h1>    
    
     <div *ngIf="configuredSensors && configuredSensors.length > 0">        
        <sensor-list [sensors]="configuredSensors"></sensor-list>    
    </div>
    <div *ngIf="!configuredSensors || configuredSensors.length === 0">
        <p><i>No sensors configured yet</i></p>
    </div>
</div>

<button [open-with]="modal" (confirm)="addToDashboard(sensorModel)">click me</button>

<modal #modal (cancel)="cancelModal()">
    <span title>Configure Sensor</span> 
    <div content class="mdl-card__supporting-text">
        <form action="#" *ngIf="sensorModel">
            <div class="mdl-textfield mdl-js-textfield">
                <input class="mdl-textfield__input" type="text" id="username" [(ngModel)]="sensorModel.name"  />
                <label class="mdl-textfield__label" for="username">Username</label>
            </div>
            <div class="mdl-textfield mdl-js-textfield">
                <textarea class="mdl-textfield__input" [(ngModel)]="sensorModel.description"></textarea>
                <label class="mdl-textfield__label" for="userpass">Description</label>
            </div>
        </form>
    </div>    
</modal>

<modal #modal2 (cancel)="cancelModal()">
    <span title>Are you sure?</span> 
    <div content class="mdl-card__supporting-text">
        Are you sure that you want to remove this configured sensor?
    </div>    
</modal>